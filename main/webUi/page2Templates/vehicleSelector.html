<%!
import html, json
%>

<%

vehicleSelectorJsUrl = params['appUrl']('etc', 'page2', 'specific', 'js', 'vehicleSelector.js')
externalJs = params['externalJs']
if vehicleSelectorJs not in externalJs :
	externalJs.append (vehicleSelectorJsUrl)
#

%>

<div

	%if vehicleSelectorId :
	id="${vehicleSelectorId}"
	%endif

	class="vehicleSelector ${vehicleSelectorClass or ''}"
>
    <table border="0" class="vehicleSelectorTable">
	<tr>
	<td>
	<div class="branchesContainer">
    <div class="vsHeading" >Branches </div>
	<div class="branches"  >


		%for branch in branches :

		<div class="vehicleSelectorEntry" data-details="${html.escape (json.dumps (branch))}">
			<input type="checkbox" checked="checked">${html.escape (branch['display'])}
		</div>
		%endfor

		%if len(branches)==0:
			${'No Branches Present'}
		%endif
	</div>
    </div>
	</td>
	<td>
    <div class="vehicleGroupsContainer">
    <div class="vsHeading" > Vehicle Groups  </div>
	<div class="vehicleGroups" style="border:0px solid black">

		%for vehicleGroup in vehicleGroups :
		<div class="vehicleSelectorEntry" data-details="${html.escape (json.dumps (vehicleGroup))}">
			<input type="checkbox" checked="checked">${html.escape (vehicleGroup['display'])}
		</div>
		%endfor
		
		%if len(vehicleGroups)==0:
			${'No Vehicle Groups Present'}
		%endif
	</div>
	</div>
	</td>
    </tr>

		<tr><td colspan="2" >
    <div class="vehicleContainer vehicleCont1">
        <div class="vsHeading" > Vehicles </div>
    <div class="vehicles" style="border:0px solid black">

		%for vehicle in vehicles :
		<div class="vehicleSelectorEntry vehicleCheckbox1" data-details="${html.escape (json.dumps (vehicle))}">
			<input type="checkbox" checked="checked" class="vsVehicleId"  data-details="${html.escape (json.dumps (vehicle))}">${html.escape (vehicle['display'])}
		</div>
		%endfor
		
		%if len(vehicles)==0:
			${'No Vehicles Present'}
		%endif
	</div>
    </div>
		</td></tr>
	</table>
</div>

