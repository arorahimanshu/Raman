<div
%if containerId :
id="${containerId}"
%endif

class="authSettings ${containerClass or ''}"
>

<div class="body">

    <div class="formContainer">
        <div align="center">
            <label style="font-size: 17px;font-weight: bolder;">Select Role:</label>
            <select id="roleSelect">
            <option value="0" selected="selected">---Choose Role---</option>
            %for role in tableData['roles'] :
                <option value="${role['description']}">${role['description']}</option>
            %endfor
            </select>
        </div>
        <div align="center" style="margin-top: 2%;">
            <table border="3" cellpadding="10" id="rbacTable" style="border: 3px solid #0af; display: none;">
                <thead>
                    <tr id="titles">
                        <th>Users</th>
                        <th>Permissions</th>
                    </tr>
                </thead>
                <tbody>
                    %for role in tableData['roles'] :
                    <tr id="${role['name']}">
                        <td>
                            %for user in tableData['users'] :
                                <div style="margin-top: 7px;margin-bottom: 7px;">
                                    <input type="checkbox" class="css-checkbox"
                                    %if user['username'] in role['users'] :
                                    checked="checked"
                                    %endif
                                    id="${role['description']}${user['username']}"
                                    value="${user['username']}"</input>
                                    <label for="${role['description']}${user['username']}" class="css-label">${user['username']}</label>
                                </div>
                            %endfor
                        </td>
                        <td>
                            %for permission in tableData['permissions'] :
                                <div style="margin-top: 7px;margin-bottom: 7px;">
                                    <input type="checkbox" class="css-checkbox"
                                    %if permission['name'] in role['permissions'] :
                                    checked="checked"
                                    %endif
                                    id="${role['description']}${permission['name']}"
                                    value="${permission['name']}"</input>
                                    <label for="${role['description']}${permission['name']}" class="css-label">${permission['description']}</label>
                                </div>
                            %endfor
                        </td>
                    </tr>
                %endfor
                </tbody>
            </table>
            <div id="actionButtons" style="display:none;width:200px;padding-left:6%;margin-top: 2%;">
                <div class="formButton" id="save" style="margin-top: 2% !important;">Save</div>
                <div class="formButton" id="cancel" style="margin-top: 2% !important;">Cancel</div>
            </div>
        </div>
    </div>
</div>